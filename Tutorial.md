# Relation Sim 初期チュートリアル

## ステップ1：セーブデータの選択

### 目的

* プレイヤーが「既存セーブデータを読み込む」または「新しく始める」を選択する

### 画面構成

```
┌────────────────────────────────────┐
│         セーブデータの選択           │
├────────────────────────────────────┤
│     ▶ 続きからはじめる（ロード）     │
│     ▶ 新しくはじめる（新規作成）     │
└────────────────────────────────────┘
```

### 処理内容

* 「続きからはじめる」：JSONファイルをアップロード → 内容検証 → 問題なければホームへ遷移
* 「新しくはじめる」：セーブデータ初期化 → ステップ2へ遷移

### 表示文（ロード失敗時）

* 「セーブデータの読み込みに失敗しました。ファイル形式をご確認ください。」

---

## ステップ2：「新規住人登録」チュートリアル

### 概要

* 住人の新規登録を2人分行い、基本的なUIと「元々の関係」設定を紹介する

### 流れ

0. 管理室画面に遷移したら説明ポップアップを表示
1. 一人目の住人を登録（フォーム表示）
2. 登録完了後、住人一覧が表示される & 誘導文表示
3. 二人目の登録開始 → 「元々の関係」項目表示 & 自動スクロール
4. 二人目登録完了 → 誘導文表示 → メイン画面へ遷移

### 表示・非表示制御

| 要素         | 初期状態 | 表示タイミング            |
| ---------- | ---- | ------------------ |
| 新規住人登録フォーム | 表示   | 常時                 |
| 住人一覧       | 非表示  | 一人目登録完了後に表示        |
| 「元々の関係」設定  | 非表示  | 二人目登録画面で表示 + スクロール |

### 誘導文

* 住人登録画面に遷移した直後：

```
ここで情報を入力することで、住人を迎え入れることができます。
さっそく空欄を埋め、登録してみましょう。
```

* 一人目登録完了時：

```
一人目の住人が登録できました！
登録した住人は、こちらの住人一覧に表示されます。

次は、二人目の住人を登録してみましょう。
「新規住人登録」から追加することができます。
```

* 二人目登録開始時（興味関心ジャンルの入力を終えたとき）：

```
二人目以降の住人には、他の住人との関係性を予め設定することができます。

この「好感度」は、お互いについてどれだけ好ましく思っているかを示します。
```

* 二人目登録完了時：

```
二人目の住人の登録が完了しました！

これで箱庭の暮らしが始まります。
どんな関係が生まれていくのか、ぜひ見守ってみてください。

それでは、ホームへ進みましょう。
```

---

## ステップ3：「観察イベント」チュートリアル

### 概要

* ホーム画面の説明と、初めての非介入型イベント（挨拶イベント）を通じて、ログ表示と好感度変化を紹介する

### 流れ

1. ホーム画面に遷移
2. 3秒後、案内ポップアップを表示すると同時に挨拶イベントを発生
3. ポップアップを閉じて3秒後、挨拶イベントの説明ポップアップを表示
4. ポップアップを表示した直後に、相談イベントを1件発生（まだ対応は不可）

### 表示文

* ホーム遷移直後：

```
ここがホームです。

ホームでは、住人たちの会話を眺めたり、
彼らからの相談に応じたりすることができます。

……おや？
```

* 挨拶イベント発生後：

```
今、二人の住人がすれ違い、挨拶を交わしたようです。

このように、住人どうしの会話や出来事は、
そのときに起こった変化とともに、ログに表示されます。

今回は「好感度」が少し上がりましたが、
場合によっては、関係性や印象が変わることもあります。

すべての出来事は、このログから見守ることができます。

なお、古いログは確認済みになると、順次非表示になります。
```

---

## ステップ4：「相談イベント」チュートリアル

### 流れ

1. ステップ3のポップアップ「今、二人の住人がすれ違い…」が表示された直後、相談イベントへの誘導文を表示してイベントを有効化
   * 信頼度変化は固定（信頼度上昇）
2. プレイヤーが相談対応を完了したら、3秒後に完了メッセージを表示
3. ここまででステップ4終了

### 誘導文（イベント発生時）

```
なにやら、${character.name} から相談が届いたようです。

さっそく対応してみましょう。
```

### 説明文（対応完了後）

```
相談に乗ることができましたね。

うまく応じることができると、このように、
その住人からの信頼度が少し上昇します。

信頼度が高まるほど、住人はより深い相談をしてくれるようになります。

また、相談は最大で3件まで表示され、
必要に応じて追加で受け付けることもできます。
```

---

## ステップ5：「みんなの様子」チュートリアル

### 流れ

1. ステップ4（相談イベントチュートリアル）終了後、「みんなの様子」画面を表示
2. 指定の住人（例：characterA）のステータス画面に誘導
3. 関係一覧の説明後、「詳細」ボタンの操作を案内
4. 指定の住人（例：characterB）との関係詳細画面に遷移
5. 最後にホームへの誘導を行う

### 表示される誘導文

* 「みんなの様子」画面表示時

```
「みんなの様子」では、
住人たちの現在の様子を一覧で確認することができます。
住人を選択すると、更に詳しい情報を見ることができます。

試しに、${characterA.name} の様子を見てみましょう。
```

* ステータス画面（characterA）に遷移後

```
ここでは、その住人について登録した情報や、
他の住人との関係、最近の出来事などを確認できます。

関係一覧では、表示されている住人を選ぶことで、
それぞれとの好感度や呼び方など、大まかな関係の情報を見ることができます。
```

* 関係の「詳細」ボタンを案内

```
「詳細」を選ぶと、さらに詳しい情報が見られます。

試しに、${characterB.name} との関係を詳しく見てみましょう。
```

* 関係詳細画面に遷移後

```
この画面では、関係性や呼び方、好感度に加えて、
相手住人との直近の関わりや変化が表示されます。
```

* 締め（ホームへ戻る）

```
では、ホームに戻りましょう。
```

---

## ステップ6：「ホーム」チュートリアル

### 流れ

1. ステップ5（「みんなの様子」チュートリアル）終了後、ホーム画面へ遷移
2. UI案内とシステム説明を、段階的に表示
3. 最後に「日報」画面へ誘導

### 表示される誘導文（順に表示）

```
先ほど行った住人の登録や、住人情報の編集は、
「管理室」からいつでも行うことができます。
```

```
「日報」からは、ログに表示された会話や、
それによる変化の記録を見ることができます。

この後、実際に見に行ってみましょう。
```

```
このゲームはオートセーブに対応しており、
ログや住人たちの状態は、常に自動で保存されています。

ただし、ブラウザを閉じたり、キャッシュを消去したりすると、
これらのデータは失われてしまうため注意が必要です。

「セーブ」からは、セーブデータをファイルとしてダウンロードできます。
ゲームを閉じる前には、必ずセーブを行ってデータを保存してください。

また、いつでも「ロード」からファイルを読み込むことで、
保存時点からプレイを再開することができます。
```

```
「リセット」を押すと、現在のデータが初期化され、
最初のセーブデータ選択に戻ります。

チュートリアルも、最初からやり直すことができます。

なお、事前に「セーブ」しておいたファイルがあれば、
「ロード」からデータを復元することも可能です。
```

```
今の状態をセーブしておきましょう。
```

```
画面右上には、現在の日時が表示されています。

ゲーム内の時間は、現実世界の時間と連動しており、
何もしなくても、住人たちはそれぞれの生活を続けていきます。
```

```
では、「日報」を見てみましょう。
```

---

## ステップ7：「日報」チュートリアル

### 流れ

1. ステップ6（ホームチュートリアル）終了後、「日報」画面へ遷移
2. 説明文を表示し、機能の概要とフィルター操作、会話履歴の確認方法を案内
3. 挨拶イベントの会話詳細を表示
4. 最後にホーム画面への誘導を行う

### 表示される誘導文

* 「日報」画面に遷移後

```
ここでは、これまでに発生した会話や、
それによって起きた変化の記録を確認することができます。

日付や住人、記録の種類などで絞り込みもできます。

また、会話履歴からは、実際の会話そのものを振り返ることも可能です。

試しに、先ほどの挨拶を見てみましょう。
```

* 会話詳細に遷移後

```
このように、過去の会話を振り返ることができます。
```

* 締め（ホームへ戻る）

```
では、ホームに戻りましょう。
```

以下が、確定版の **ステップ8：「チュートリアル終了」** のMarkdown形式での記述です。

---

## ステップ8：「チュートリアル終了」

### 流れ

1. ステップ7（日報チュートリアル）終了後、ホーム画面へ遷移
2. 以下の締め文を表示してチュートリアル完了とする

### 表示される締めの文

```
お疲れさまでした！

これで、あなたはもう立派な管理人です。
住人たちの毎日を、これからゆっくりと見守ってあげてくださいね。

そして、こまめなセーブもお忘れなく。
```