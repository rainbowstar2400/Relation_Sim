### 6.3 関係・感情データの構造

本節では、キャラクター間の関係ラベル、感情ラベル、好感度、プレイヤーとの信頼度など、人間関係に関連するデータ構造について記述する。

#### 6.3.1 関係ラベル（relation\_label）

* A↔B の双方向で1つのみ存在し、排他的なラベルである。
* 以下のような状態が存在する：

| ラベル名 | 変化方法                | 備考                    |
| ---- | ------------------- | --------------------- |
| なし   | 初期状態                |                       |
| 認知   | 自動（挨拶イベント or 時間経過）  |                       |
| 友達   | 非介入イベント（友達になるイベント）  |                       |
| 親友   | 非介入イベント（親友になるイベント）  |                       |
| 恋人   | プレイヤー介入イベント（告白イベント） |                       |
| 家族   | 初期設定・管理室にて手動設定（固定）  | 他ラベルと併存不可、イベントによる変更不可 |

```json
{
  "pair": ["char_001", "char_002"],
  "relation_label": "友達"
}
```

#### 6.3.2 感情ラベル（emotion\_label）

* A→B の片方向で1つだけ持つ。
* 以下の系列が存在する：

##### 「認知」「友達」以下の関係で使用される感情ラベル：

* なし（初期状態）
* 気になる
* 好きかも
* 嫌いかも
* 気まずい（特別な状態で、全関係ラベルで共有）

##### 「親友」「恋人」「家族」の関係で使用される感情ラベル：

* 普通（初期状態）
* 好き
* 大好き
* 嫌い
* 大嫌い
* 気まずい

```json
{
  "from": "char_001",
  "to": "char_002",
  "emotion_label": "気になる"
}
```

#### 6.3.3 好感度（affection）

* A→B の片方向で管理。
* -100 〜 +100 の整数値で表現。
* 初期値は 0。ただし、初期関係の設定により値を変動させることが可能。

```json
{
  "from": "char_001",
  "to": "char_002",
  "affection": 38
}
```

#### 6.3.4 信頼度（trust）

* キャラクター → プレイヤー の片方向で管理。
* 0 〜 100 の整数値で表現。
* 初期値は 0。

```json
{
  "character_id": "char_001",
  "trust": 20
}
```

#### 6.3.5 備考

* 関係ラベル（relation\_label）は常に双方向で共通である。
* 感情ラベル・好感度は片方向ごとに独立して管理され、変化も個別に処理される。
* 感情ラベルと関係ラベルの変化は、イベントや時間経過を通じて別途管理される。

#### 6.3.6 家族ラベルの特例仕様

* 「家族」ラベルは初期設定または管理室での**手動設定のみ**で付与される。
* イベントによる変化（付与・解除）は一切行われず、**完全に固定された関係**とみなされる。
* 他の関係ラベル（親友・恋人など）とは\*\*併存不可（排他的）\*\*であり、設定時に他ラベルを上書きする。
* 一度「家族」ラベルを解除した場合は、再び他ラベルの設定が可能となる。

##### 補足情報の設定（種別）

* 「家族」には以下のような**種別情報**を付与可能：

  * 兄弟（兄／弟／姉／妹）
  * 親子（父／母／息子／娘）
  * その他（祖父母、いとこなど）
* UI上では「家族（姉）」のように表示され、会話生成や態度に影響を与える。

##### 感情ラベルとの関係

* 「家族」関係においても、感情ラベルや好感度は**通常どおり管理・変化**される。
* 感情ラベルの系列は「親友」「恋人」と同一：

  * 嫌い ← 普通 ← 好き（初期）→ 大好き（※「大嫌い」は使用不可）
* 大嫌い相当の状態になっても、**別れイベントは発生せず除外対象**となる。